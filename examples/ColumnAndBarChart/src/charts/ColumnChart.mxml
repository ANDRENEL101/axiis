<?xml version="1.0" encoding="utf-8"?>
<mx:VBox xmlns:visml="org.visml.*"
	xmlns:mx="http://www.adobe.com/2006/mxml"
	xmlns:degrafa="http://www.degrafa.com/2007"
	xmlns:axiis="http://www.axiis.org/2009">

	<mx:Script>
		<![CDATA[
			import org.axiis.data.DataSet;
			
			[Bindable]
			public var gap:Number = 10;
			
			[Bindable]
			public var ds:DataSet;
		]]>
	</mx:Script>
	
	<mx:HBox>
		<mx:ToggleButtonBar id="tbb" selectedIndex="0">
			<mx:Array>
				<mx:String>Left</mx:String>
				<mx:String>Right</mx:String>
			</mx:Array>
		</mx:ToggleButtonBar>
		<mx:Label text="{'Selected index : ' + barLayout.selectedIndex}"/>
	</mx:HBox>
	
	<axiis:DataCanvas id="dataCanvas" width="100%" height="100%">
		<axiis:layouts>
			<axiis:HorizontalLayout id="barLayout"
				dataProvider="{ds.data.someData.country}"
				scale="categorical"
				gap="{gap}"
				horizontalAlign="{tbb.selectedIndex == 0 ? 'left' : 'right'}">
				<axiis:geometries>
					<degrafa:RegularRectangle x="10" y="{dataCanvas.height}"
						width="50" height="{barLayout.currentDatum.competitors * 5}"
						fill="{barFill}">
						<degrafa:transform>
							<degrafa:ScaleTransform scaleY="-1" registrationPoint="topLeft"/>
						</degrafa:transform>
					</degrafa:RegularRectangle>
				</axiis:geometries>		
			</axiis:HorizontalLayout>
		</axiis:layouts>
				
		<axiis:fills>
			<degrafa:SolidFill id="barFill" color="0x67A7E3"/>
		</axiis:fills>
		
		<axiis:strokes>
			<degrafa:SolidStroke id="axisStroke" weight="1" color="black"/>
		</axiis:strokes>
	</axiis:DataCanvas>
	
</mx:VBox>
